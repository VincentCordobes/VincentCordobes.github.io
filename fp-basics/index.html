<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.51b8afee27eaf2f4cd04.css">*,:after,:before{box-sizing:border-box}body{color:#3d3d3d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Helvetica Neue,Arial,sans-serif;font-size:16px;line-height:1.625;text-rendering:optimizeLegibility;margin:0 auto;padding:15px;-webkit-text-size-adjust:100%}a{color:#0366d6;text-decoration:none}a:hover{text-decoration:underline}p{margin:0 0 1em}#layout{max-width:42rem;margin-left:auto;margin-right:auto}@media (min-width:1024px){#layout{max-width:48rem}#container{width:87.5%}}h1,h2,h3,h4{line-height:normal;margin:0;font-weight:500}h1{font-size:2em}h2,h3,h4{margin-top:1.5em;margin-bottom:.5em}h2{font-size:1.5em}h3{font-size:1.25em}h4{font-size:1.05em}ol,ul{padding-left:0;margin:5px 0 1em;list-style-type:none}ol>li,ul>li{text-indent:0;margin:.3em 0}p+ol,p+ul{margin-top:-.7em}ol{list-style-type:decimal}hr{background-color:#e1e4e8;border:0;height:1px;margin:24px 0;padding:0}.vim-cursor{display:inline-block;background-color:#5f5f5e;color:#fff;margin-bottom:-5px;margin-left:3px;width:10px;height:18px}blockquote{margin:1.5em 0 1.5em 1.8em;color:#5a5a5a;position:relative;font-style:italic}blockquote:before{font-family:georgia,serif;font-size:3.6em;position:absolute;content:"\201C";line-height:1em;font-style:normal;left:-.5em;top:0}cite{display:block;text-align:right;color:#3d3d3d}cite:before{content:"\2014   "}table{border:2px solid #000;border-right:none;border-left:none;border-collapse:collapse;min-width:100%;margin:2em auto}@media (min-width:576px){table{min-width:20rem}}td,th{padding:5px 10px;text-align:left}th{border-bottom:1px solid #000}.mono{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}#post-list .date{color:#aaa}figure{margin:0 0 1.4em}#blog-post figure{margin-top:1.4em}figcaption:before{font-variant:small-caps}figcaption{text-align:center;margin-top:1em;margin-bottom:1.4em}iframe{border:none;width:1px;min-width:100%;margin:0 auto 1em}img{max-width:100%;display:block;margin:0 auto}strong{font-weight:600}.katex-display{overflow-x:auto;overflow-y:hidden}code[class*=language-],pre[class*=language-]{color:#333;background:none;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#fafafa}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-makefile .token.symbol,.language-markdown .token.url{color:#795da3}.language-makefile .token.variable{color:#183691}.language-bash .token.keyword,.language-makefile .token.builtin{color:#0086b3}code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}:not(pre)>code[class*=language-],pre[class*=language-]{font-size:.9em}.gatsby-highlight pre[class*=language-]:before{background:#ddd;border-radius:0 0 4px 4px;font-size:.75rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;letter-spacing:.075em;line-height:1;padding:.25rem .5rem;position:absolute;right:1.5rem;text-align:right;top:0}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}#blog-post nav>ul{padding:0}#blog-post-content ol,#blog-post-content ul{padding-left:1.5em}#blog-post-content ul>li{list-style-type:disc}#blog-post-footer{display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:space-between;justify-content:space-between;list-style:none;padding:0}</style><meta name="generator" content="Gatsby 2.2.5"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">Basics of Functional Programming - Vincent&#x27;s page</title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous"/><meta data-react-helmet="true" name="google-site-verification" content="kjM2mfXvQ9XJ7BqEPTHNHWZ62wJsC5G_GtuPX1oy0EY"/><meta data-react-helmet="true" name="description" content="Gonna talk about basics of fp"/><meta data-react-helmet="true" property="og:url" content="https://vincentcordobes.github.io/fp-basics/"/><meta data-react-helmet="true" property="og:title" content="Basics of Functional Programming"/><meta data-react-helmet="true" name="og:description" content="Gonna talk about basics of fp"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@VincentCordobes"/><meta data-react-helmet="true" name="twitter:title" content="Basics of Functional Programming"/><meta data-react-helmet="true" name="twitter:description" content="Gonna talk about basics of fp"/><link as="script" rel="preload" href="/styles-9d6843fc8169fbbedc76.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-d323054a99c30ac6ce00.js"/><link as="script" rel="preload" href="/3-0a8ba6413f240456b8f2.js"/><link as="script" rel="preload" href="/2-4af7fd5015eba5c976b5.js"/><link as="script" rel="preload" href="/app-1da1bfc8c6547294326f.js"/><link as="script" rel="preload" href="/webpack-runtime-661a8a3d5159da55a8b4.js"/><link as="fetch" rel="preload" href="/static/d/930/path---fp-basics-a-0-e-465-qbztgD60YUcdmAgoBmAEoBwQimc.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div id="layout"><div id="container"><div id="blog-post"><header><nav><ul><li><a rel="home" href="/">Home</a></li></ul></nav></header><h1>Basics of Functional Programming</h1><p><small class="mono">January 31, 2019</small></p><div id="blog-post-content"><p>The essence of programming is composition.  In the OOP paradigm we are building sofware by using Object that communicates with each other. To build bigger software we compose those objects.</p>
<p>In FP the building block is a function! Each function operates on data.
The software is made using functions and we compose them to build bigger software.</p>
<p>What is functional programming? what are those principle?
Gonna talk here about the very basics of FP using the functional language OCaml</p>
<p>FP see more programming in a mathematical way.</p>
<p>major difference betwwen functional language and imperative language is</p>
<h3>Expression vs Statements</h3>
<p>An expression is everything that can be evaluated to produce a value.</p>
<h4>In imperative languages</h4>
<p>Since in OCaml everything is an expression, I’m going to use javascript to highlight the differences.</p>
<p>This is an expression, it evaluates to a <code class="language-text">number</code>:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> circumference <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token constant">PI</span> <span class="token operator">*</span> radius</code></pre></div>
<p><code class="language-text">if-else</code> are <strong>not</strong> expressions in javascript. Thus you can’t do that:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// This is not a javascript valid syntax!</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> 
  <span class="token keyword">if</span> <span class="token punctuation">(</span>moi <span class="token operator">===</span> <span class="token string">'Vincent'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span></code></pre></div>
<p>Same goes for statements <code class="language-text">for</code>, <code class="language-text">while</code>, <code class="language-text">switch</code>, <code class="language-text">try ... catch</code>, <code class="language-text">break</code> etc… That’s a lot of keywords for a single language 😜 </p>
<h4>What about in FP languages ?</h4>
<p>Previously I said everything was an expression in OCaml. But what about the  <code class="language-text">if-else</code>, <code class="language-text">for-loop</code>…? they exist, but those are also expressions!</p>
<p><code class="language-text">if-else</code> is evaluated to its body content:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml"><span class="token keyword">let</span> message <span class="token operator">=</span> 
  <span class="token keyword">if</span> language <span class="token operator">=</span> <span class="token string">"ocaml"</span> <span class="token keyword">then</span> 
    <span class="token string">"I quite like FP"</span> 
  <span class="token keyword">else</span> 
    <span class="token string">"Sorry, what?"</span>
<span class="token comment">(* val message : string *)</span></code></pre></div>
<p><code class="language-text">for</code> and <code class="language-text">while</code> loop are evaluated to the <code class="language-text">unit</code> type:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml"><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">to</span> <span class="token number">3</span> <span class="token keyword">do</span> printf <span class="token string">"%d"</span> i <span class="token keyword">done</span>
<span class="token comment">(* unit = () *)</span></code></pre></div>
<p>And so on.</p>
<h3>Immutability</h3>
<p>An immutable variable means its value can’t be changed after it’s created.
If you want to modify it, well you don’t. Instead you create a new variable with the new value.</p>
<p>In OCaml record fields are immutable by default.</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml"><span class="token keyword">let</span> me <span class="token operator">=</span> <span class="token punctuation">{</span>
  first<span class="token punctuation">_</span>name <span class="token operator">=</span> <span class="token string">"Vincent"</span><span class="token punctuation">;</span>
  last<span class="token punctuation">_</span>name  <span class="token operator">=</span> <span class="token string">"Cordobes"</span><span class="token punctuation">;</span>
  age        <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>If you try to update <code class="language-text">me</code>, you’ll get an error:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml">me<span class="token punctuation">.</span>age <span class="token operator">&lt;-</span> <span class="token number">35</span> <span class="token comment">(* error: the record field age is not mutable *)</span></code></pre></div>
<p>Instead you need to create a new variable:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml"><span class="token keyword">let</span> new<span class="token punctuation">_</span>me <span class="token operator">=</span> <span class="token punctuation">{</span> me <span class="token keyword">with</span> age <span class="token operator">=</span> <span class="token number">35</span> <span class="token punctuation">}</span></code></pre></div>
<p>In some other languages objects are mutables by default which can lead to many “wtf!”<br>
For example in javascript:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> me <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Vince'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">23</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 23</span>
<span class="token function">sayAge</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 498</span></code></pre></div>
<div style="position:absolute;
            font-size: 25px;
            transform: translate(10em, -1.2em);">🤔</div>
<br />
<p>Who is responsible for that age change? It must be <code class="language-text">printAge</code>! It’s the only function call we have between the two <code class="language-text">console.log</code>. But wait… can we really trust <code class="language-text">console.log</code> ? What if I tell you it’s been monkey patched? replaced by a custom bugged logger 🙈 Okay chances are low but if one is being imaginative, it’s possible.
The point is that in a mutable world we can’t really trust anything. As you can see even in a 4 lines program, mutability can lead to very unexpected behaviour.</p>
<p>So immutability guaranties us that a variable will never change.
It’s not an FP specific thing but rather a best practice as it makes codes more readable and maintainable.
It also makes it easier to do concurrent programming, eliminates defensive copies etc..</p>
<p>Is mutability always bad tho? Of couse not and as often in IT, it depends! If it’s local, effects are totally controlled or allow us to optimize a performance critical part of the program etc… <strong>it’s totally fine</strong>.</p>
<h3>Pure function</h3>
<ol>
<li>Its result depends only on its input—and not on any external state</li>
<li>It has no side effects such as mutating a global state/reference arguments, having I/O…</li>
</ol>
<p>→ Given the same input, it always returns the same result</p>
<p>This is a pure function:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml"><span class="token keyword">let</span> double x <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x</code></pre></div>
<p>Naturally it shouldn’t call unpure code:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml"><span class="token keyword">let</span> get<span class="token punctuation">_</span>week<span class="token punctuation">_</span>day <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span>
  <span class="token keyword">let</span> now <span class="token operator">=</span> Unix<span class="token punctuation">.</span>time <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|></span> Unix<span class="token punctuation">.</span>localtime <span class="token keyword">in</span>
  now<span class="token punctuation">.</span>tm<span class="token punctuation">_</span>wday</code></pre></div>
<p>Obvisously <code class="language-text">Unix.time</code> is not pure and will always returns something different each time we call it. Impurity is contagious. So <code class="language-text">get_week_day</code> is not pure. </p>
<p>There are many benefits to pure function. They are so easy to test, predictables and make the code easier to reason about. They also enable optimizations such as memoization.
I believe in a program one want to maximize pure functions and push unpure code at the edge.</p>
<!--  -->
<!-- ```ocaml -->
<!-- let count = ref 0 -->
<!-- let increment_by n = -->
<!--   count := !count + n -->
<!-- ``` -->
<!-- Note that in OCaml `let` binding is always immutable -->
<h3>Referential transparency</h3>
<p>Referential transparency means you can safely replace an expresssion by its value without changing the program behaviour.</p>
<p>Let’s take the expression:</p>
<div class="gatsby-highlight" data-language="ocaml"><pre class="language-ocaml"><code class="language-ocaml">x <span class="token operator">+</span> f x</code></pre></div>
<p>Assuming that <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> is immutable and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> is a pure function then every time we encounter that expression in our program we could replace it by <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> where  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>f</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">y = x + f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span></p>
<h3>First class function</h3>
<h3>Higher order function</h3>
<h3>Composition</h3>
<h3>Curryfication</h3></div><div><span style="font-size:0"></span><div class="vim-cursor"></div></div><hr/><ul id="blog-post-footer"><li><a rel="prev" href="/tdd/">← <!-- -->One way to approach a problem</a></li><li></li></ul></div></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-125838540-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"fp-basics-a0e","path":"/fp-basics/"};window.dataPath="930/path---fp-basics-a-0-e-465-qbztgD60YUcdmAgoBmAEoBwQimc";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1da1bfc8c6547294326f.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-d323054a99c30ac6ce00.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c66f3c41cce47ee2f5a5.js"],"component---src-pages-activities-js":["/component---src-pages-activities-js-e795caa7dc3d3accbf85.js"],"component---src-pages-git-rebase-figure-1-js":["/component---src-pages-git-rebase-figure-1-js-79b90472f5c12cb47e92.js"],"component---src-pages-git-rebase-figure-2-js":["/component---src-pages-git-rebase-figure-2-js-3836965605a00fff5a25.js"],"component---src-pages-git-rebase-figure-3-js":["/component---src-pages-git-rebase-figure-3-js-db25747695b55da82eaa.js"],"component---src-pages-git-js":["/component---src-pages-git-js-a4da39cf7e6e5c459b41.js"],"component---src-pages-index-js":["/component---src-pages-index-js-21a5e770b0411b8953a5.js"],"pages-manifest":["/pages-manifest-0310e18b62fa66925533.js"]};/*]]>*/</script><script src="/webpack-runtime-661a8a3d5159da55a8b4.js" async=""></script><script src="/app-1da1bfc8c6547294326f.js" async=""></script><script src="/2-4af7fd5015eba5c976b5.js" async=""></script><script src="/3-0a8ba6413f240456b8f2.js" async=""></script><script src="/component---src-templates-blog-post-js-d323054a99c30ac6ce00.js" async=""></script><script src="/styles-9d6843fc8169fbbedc76.js" async=""></script></body></html>